
# ComputerClub

**ComputerClub** – это система бронирования компьютеров для компьютерного клуба, позволяющая пользователям и администраторам управлять бронированием, просмотром доступных компьютеров и временем их использования. Проект предоставляет два интерфейса: для пользователей и для администраторов.

## Функционал

### Пользовательская панель:
- Регистрация и авторизация.
- Просмотр списка доступных компьютеров.
- Бронирование компьютеров.
- Просмотр истории бронирований.
- Управление балансом пользователя.
- Покупка почасовых пакетов для бронирования компьютеров с применением скидок.

### Административная панель:
- Управление компьютерами (CRUD).
- Управление категориями компьютеров (VIP и Стандарт).
- Управление пользователями (блокировка, пополнение баланса, просмотр статистики).
- Генерация отчетов по прибыли.
- Просмотр и управление бронированиями.

## Структура проекта

```bash
computerclub/
├── configs/
│   └── configs.go           # Настройки приложения
|   └── settings.json         # Конфигурационные файлы
|
├── db/
│   └── connections.go        # Подключение к базе данных
│   └── migrations.go         # Миграции для базы данных
|
├── errs/
│   └── errs.go               # Обработка ошибок
|
├── logger/
│   └── logger.go             # Логирование событий
|
├── logs/  
│   └── error.log             # Логи ошибок
│   └── info.log              # Логи информационных событий
│   └── booking.go            # Логи для бронирований
│   └── debug.log             # Логи отладки
│   └── warning.log           # Логи предупреждений
│   
├── models/                   # Модели данных
│   └── user.go               # Модель пользователя
│   └── booking.go            # Модель бронирования
│   └── bookinghistory.go     # История бронирований
│   └── computer.go           # Модель компьютера
│   └── category.go           # Модель категории (VIP, Стандарт)
│   └── transaction.go        # Транзакции и баланс пользователей
│   └── balance.go            # Баланс пользователей
|
├── pkg/
│   └── /controllers/         # Контроллеры для обработки HTTP-запросов
│        └── auth.go
│        └── bookings.go
│        └── computers.go
│        └── users.go
│        └── helpers.go
│        └── middleware.go
│        └── routes.go        # Маршруты приложения
│   └── /repository/          # Работа с базой данных
│        └── bookings.go
│        └── computers.go
│        └── users.go
│   └── /service/             # Бизнес-логика
│        └── auth.go
│        └── bookings.go
│        └── computers.go
│        └── users.go
│        └── jwt.go           # JWT-аутентификация
|
├── /server/                  # Запуск сервера
│   └── server.go
├── /utils/                   # Утилиты
│   └── hash.go               # Хеширование паролей
|
├── .env                      # Переменные окружения
├── main.go                   # Главный файл для запуска приложения
```

## Требования

- Go 1.18+
- PostgreSQL
- Git

## Установка и запуск

### Клонирование репозитория

```bash
git clone https://github.com/your-repo/computerclub.git
cd computerclub
```

### Настройка конфигурации

1. Создайте файл `.env` и настройте переменные окружения:
    - `DB_HOST` – хост базы данных
    - `DB_USER` – пользователь базы данных
    - `DB_PASSWORD` – пароль пользователя
    - `DB_NAME` – имя базы данных
    - `JWT_SECRET` – секретный ключ для JWT

2. Настройте файл `configs/settings.json` для подключения к базе данных и других параметров.

### Запуск миграций

```bash
go run db/migrations.go
```

### Запуск приложения

```bash
go run main.go
```

## API Роуты

### Пользователи
- `POST /users/register` – регистрация нового пользователя.
- `POST /users/login` – авторизация пользователя.

### Компьютеры
- `GET /computers` – список всех компьютеров.
- `GET /computers/available` – список доступных для бронирования компьютеров.

### Бронирование
- `POST /bookings` – создание бронирования.
- `GET /bookings` – просмотр всех бронирований пользователя.

### Администраторы
- `GET /admin/reports/profit` – генерация отчета по прибыли.
- `GET /admin/users` – список всех пользователей.

## Лицензия

Этот проект лицензирован под лицензией MIT.
